---
title: "snow_hare"
author: "Oswaldo Felix"
date: "2/1/2020"
output: html_document
---

```{r setup, include = FALSE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

# Introduction

Here's where my 3-4 introductory sentences would go
Snowshoe hares are an important keystone species. Their abundance can be used to proxy the stability of the ecosystem over time. 

## Snowshoe Hare

Insert cute photographs and map of study area

# Citations

Data from: Kielland K., F. S. Chapin, R. W. Ruess. 2017. Snowshoe hare physical data in Bonanza Creek Experimental Forest: 1999-Present. Environmental Data Initiative. https://doi.org/10.6073/pasta/03dce4856d79b91557d8e6ce2cbcdc14.  


```{r, include = FALSE}
# Load libraries and data

library(tidyverse)
library(here)
library(lubridate)

hare_df <- read_csv(here::here("data", "showshoe_lter.csv"))

# Wrangle data

hare_select <- hare_df %>% 
  select(-time, -notes) %>% 
  mutate(date = mdy(date),
         year = lubridate::year(date),
         month = lubridate::month(date),
         day = lubridate::day(date)
          ) %>% 
  mutate(age = case_when(age %in% c("J", "j") ~ "Juvenile",
                         age %in% c("A", "a 1 yr.", "a 3/4 yr.", "a 1 yr", 
                                    "1 yr.", "2 yrs.", "a 2 yrs.", "2.25 yrs", 
                                    "3.5 yrs.", "1 yr", "a", "1", "1.25", "1.5") ~ "Adult"
                         )
  ) %>%
  mutate(season = case_when(month %in% c(4:9) ~ "Summer",
                            month %in% c(1:3, 10:12) ~ "Winter"
                            )
         ) %>% 
  remove_missing()
```


```{r, fig.width = 10, fig.height = 5}
# Visualize data

ggplot(data = hare_select, aes(x = year, y = weight)) +
  geom_boxplot(aes(group = year,  y = weight), 
               alpha = 0.8, outlier.shape = NA, varwidth = TRUE) +
  geom_jitter(aes(pch = age, color = season), 
             alpha = 0.6, width = 0.2) +
  facet_wrap(~season) +
  guides(color = FALSE) +
  labs(pch = "Age", x = "Year", y = "Weight [g]")
```




